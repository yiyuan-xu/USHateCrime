<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | USHateCrime</title>
  <meta name="description" content="Chapter 6 Interactive component | USHateCrime" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | USHateCrime" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | USHateCrime" />
  
  
  

<meta name="author" content="Yunshan An; Zihao Liu; Yiyuan Xu" />


<meta name="date" content="2021-04-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>
<script src="libs/d3-5.16.0/d3.min.js"></script>
<script src="libs/r2d3-render-0.1.0/r2d3-render.js"></script>
<script src="libs/webcomponents-2.0.0/webcomponents.js"></script>
<script src="libs/r2d3-binding-0.2.5/r2d3.js"></script>
<script src="libs/d3v6-6.2.0/d3.min.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">US Hate Crime</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#sources-of-data"><i class="fa fa-check"></i><b>2.1</b> Sources of data</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#data-definition"><i class="fa fa-check"></i><b>2.2</b> Data definition</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#the-limitations-of-data"><i class="fa fa-check"></i><b>2.3</b> The limitations of data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#background-data"><i class="fa fa-check"></i><b>3.1</b> Background Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-transformation.html"><a href="data-transformation.html#bias-motivation-data"><i class="fa fa-check"></i><b>3.1.1</b> Bias Motivation Data</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-transformation.html"><a href="data-transformation.html#location-data"><i class="fa fa-check"></i><b>3.1.2</b> Location Data</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-transformation.html"><a href="data-transformation.html#offenders-data"><i class="fa fa-check"></i><b>3.1.3</b> Offenders Data</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#factor-data"><i class="fa fa-check"></i><b>3.2</b> Factor Data</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#time-series-data"><i class="fa fa-check"></i><b>3.3</b> Time Series Data</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#d3-data"><i class="fa fa-check"></i><b>3.4</b> D3 Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#location-and-number-of-missing-values"><i class="fa fa-check"></i><b>4.1</b> Location and Number of Missing Values</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#patterns-of-missing-values"><i class="fa fa-check"></i><b>4.2</b> Patterns of Missing values</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#actions-on-missingabnormal-values"><i class="fa fa-check"></i><b>4.3</b> Actions on missing/abnormal values</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#how-do-us-hate-crimes-look-like-in-2019"><i class="fa fa-check"></i><b>5.1</b> How do US hate crimes look like in 2019?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#locations-of-hate-crimes"><i class="fa fa-check"></i><b>5.1.1</b> Locations of hate crimes</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#offenders-of-hate-crimes"><i class="fa fa-check"></i><b>5.1.2</b> Offenders of hate crimes</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#bias-motivations-behind-hate-crimes"><i class="fa fa-check"></i><b>5.1.3</b> Bias motivations behind hate crimes</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#how-do-a-states-socioeconomic-factors-influence-its-hate-crime-in-2019"><i class="fa fa-check"></i><b>5.2</b> How do a stateâ€™s socioeconomic factors influence its hate crime in 2019?</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#hate-crimes-by-states-in-2019"><i class="fa fa-check"></i><b>5.2.1</b> Hate crimes by States in 2019</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#factors-that-may-influence-hate-crimes"><i class="fa fa-check"></i><b>5.2.2</b> Factors that may influence hate crimes</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#how-do-hate-crimes-change-in-us-from-2010-to-2019"><i class="fa fa-check"></i><b>5.3</b> How do hate crimes change in US from 2010 to 2019?</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#hate-crimes-in-us-in-2010-2019"><i class="fa fa-check"></i><b>5.3.1</b> Hate crimes in US in 2010-2019</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#hate-crimes-by-states-in-2010-2019"><i class="fa fa-check"></i><b>5.3.2</b> Hate Crimes by States in 2010-2019</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#compare-crime-rate-median-income-and-total-cases-between-different-states-over-time"><i class="fa fa-check"></i><b>6.1</b> Compare crime rate, median income and total cases between different states over time</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">USHateCrime</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Interactive component</h1>
<div id="compare-crime-rate-median-income-and-total-cases-between-different-states-over-time" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Compare crime rate, median income and total cases between different states over time</h2>
<script src="https://d3js.org/d3.v6.js"></script>
<b>Compare different stuffs</b>
<select id="selectButton1"></select>
<select id="selectButton2"></select>
<br>
<br>
<b>Choose the factor you want to compare</b>
<select id="selectButton3"></select>
<div id="interactive_area">

</div>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<div id="htmlwidget-55a443589fd4aebbbe52" style="width:672px;height:480px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-55a443589fd4aebbbe52">{"x":{"data":{"State":["Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alabama","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Alaska","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arizona","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","Arkansas","California","California","California","California","California","California","California","California","California","California","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Colorado","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Connecticut","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Delaware","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Florida","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Georgia","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Idaho","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Illinois","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Indiana","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Iowa","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kansas","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Kentucky","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Louisiana","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maine","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Maryland","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Massachusetts","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Michigan","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Minnesota","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Mississippi","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Missouri","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Montana","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nebraska","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","Nevada","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Hampshire","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Jersey","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New Mexico","New York","New York","New York","New York","New York","New York","New York","New York","New York","New York","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Carolina","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","North Dakota","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Ohio","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oklahoma","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Oregon","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Pennsylvania","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","Rhode Island","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Carolina","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","South Dakota","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Tennessee","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Texas","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Utah","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Vermont","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Virginia","Washington","Washington","Washington","Washington","Washington","Washington","Washington","Washington","Washington","Washington","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","West Virginia","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wisconsin","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming","Wyoming"],"Offenses":[0,0,9,17,12,10,6,6,96,24,17,8,4,13,19,7,9,6,8,9,254,211,328,291,322,304,212,209,231,300,10,14,8,15,8,16,34,30,18,85,1221,1222,1270,1142,1017,943,1012,1089,1204,1331,257,176,136,126,143,129,154,233,223,196,86,92,122,124,107,144,172,176,164,168,27,18,30,19,11,18,13,11,21,20,131,166,166,110,83,72,82,166,139,146,123,41,230,46,49,50,72,21,21,19,38,26,61,35,46,40,37,39,49,34,95,139,94,122,101,136,123,101,89,116,87,226,62,163,76,60,78,38,120,116,13,16,12,21,6,12,15,8,20,23,99,87,83,70,81,86,74,97,83,73,179,288,432,241,218,199,209,230,186,205,33,59,30,33,45,11,23,4,7,17,24,22,40,45,45,34,28,61,66,76,18,52,53,40,43,18,58,45,64,82,441,474,486,444,483,418,393,190,424,360,495,495,515,459,373,354,399,718,417,372,123,159,169,165,132,117,167,83,186,140,15,5,4,10,0,1,4,19,1,11,106,80,133,114,137,106,116,121,147,167,35,7,18,20,47,43,37,39,23,37,57,35,46,35,19,61,39,10,39,62,53,37,7,49,70,29,80,113,70,76,17,19,16,40,15,22,23,34,26,35,478,577,502,308,349,347,447,null,553,557,63,34,14,36,14,13,12,4,35,25,618,525,559,598,515,558,655,741,566,710,248,202,230,208,208,186,140,140,129,132,20,10,17,8,54,51,63,52,32,13,428,390,449,508,470,474,447,296,277,295,30,25,49,35,47,37,45,26,38,60,205,139,169,122,79,38,75,64,151,161,50,75,93,67,71,58,110,42,60,69,21,15,11,13,19,5,8,15,20,21,82,123,94,23,69,60,59,172,157,129,21,26,19,21,20,18,18,37,23,56,152,207,179,190,294,220,245,367,162,163,560,500,219,224,219,165,161,60,189,202,34,36,94,72,56,58,87,113,79,67,37,48,36,26,8,15,13,14,9,22,185,159,214,150,184,131,126,152,166,204,664,666,613,482,326,367,344,323,252,301,36,51,34,48,49,28,63,29,21,36,83,59,48,42,47,62,65,91,85,108,6,0,23,4,2,0,1,2,3,2],"Population":[85670,1865517,2918324,1013839,1252146,794907,1147612,141235,2285487,3762738,727792,733747,736205,738566,734820,732371,730950,315266,304924,290334,6395924,7135285,6755795,6361910,6622880,6433584,6358545,5974180,6225041,6328446,2813597,2874960,2836240,2853645,2754543,2661818,2809536,2748544,2804225,2752987,39502561,39520441,39529144,39242633,39137326,38802500,38324460,37933751,37691912,37200288,5705335,5512017,5575629,5519770,5445853,5268592,5163276,5109141,4992496,4908638,3373874,3150064,3588184,3576452,3399068,3375662,3566367,3574937,3580709,3574097,973764,962453,961939,952065,945934,935614,925749,917092,907135,897934,20901840,20922562,20515334,8988095,5356877,19794279,19455529,19224398,18945433,18705419,9290789,8497512,8948013,8216137,7991234,8204655,7817674,7696372,8600353,7653795,1782402,1738946,1699259,1683140,1654475,1634011,1611676,1595241,1583018,1554255,12125954,11942645,12270234,12373460,12501008,12029618,12269532,12297695,9959109,10497883,3643904,3004204,2287298,2874580,3224755,6093574,4034953,2684625,3701222,3720793,3135918,3042074,3104739,3113786,3105094,2974604,2958457,2935796,2904419,2968611,2610898,2561072,2620785,2591338,2741323,2843179,2665446,2258766,2426569,2230776,4460061,4448098,4444239,4427530,4402368,4386536,4334254,3653352,3581320,3202734,3536544,3528527,3764930,3560451,3711824,2706155,3237092,2213017,2448022,2617664,1344212,1338404,1335907,1331479,1329328,1330089,1328302,1329192,1328188,1328361,6045680,6039822,6052177,6016447,6006401,5976407,5928814,5884563,5828289,5773552,6772985,6730168,6703220,6637616,6566279,6485973,6496451,5736749,6361208,6296379,9969410,9948030,9928921,9847710,9834270,9732430,9733958,9666469,9569653,9703717,5533121,5484503,5508515,5178985,5218435,5287138,4904213,3834480,3992533,2698621,882028,720646,682046,585454,763830,1349655,1497332,707165,748806,794800,6077911,5919676,6109596,6089857,6079483,6061406,6040074,6019690,6001755,5987789,1055460,1062359,1050005,1042048,1023807,992702,1000016,995410,988577,981587,1813150,1781091,1865845,1846626,1821196,1763318,1511235,673815,1478313,1534659,3070743,3034392,2998039,2940058,2890845,2834483,2229342,2195232,2183002,2700551,1313554,1317257,1295556,1275170,1267715,1238190,1178087,1186056,1176668,1155769,8638072,8908520,9005644,8942857,8956395,8936591,8898292,null,8819533,8790283,819112,1915743,561375,576958,574972,717010,888880,223466,973183,1130803,18949575,19348748,19685625,19738790,19766342,19652379,19515678,19222847,19297804,19307186,8740258,10330057,10271767,10145637,10041690,9942854,9845983,9750451,9655664,9534813,762062,760650,754604,757493,756927,738176,722021,689607,666780,659331,9730885,9774082,9703884,9573452,9781677,9711237,10376248,9841632,9879527,9667899,3946211,3621189,3916111,3869095,3896985,3878051,3850568,1363283,3790684,3713732,4056079,4012987,3902529,3547910,1671416,1526458,2301273,2015920,2437231,3286084,12585495,12712213,12730580,12644372,12550581,12587318,12657821,12635883,12565359,12659293,1058329,1056281,1059639,1056426,1056298,1054130,1051511,1049246,1051302,1052567,5081688,4960159,4996532,4936962,4826241,4813088,4761406,4714086,4668211,4614153,848738,806540,799083,787337,782152,776484,767653,756389,731246,723676,6830634,6737273,6715984,6651194,6600299,6519911,6495978,6456188,6403353,6346105,28885669,27845758,28096894,27862596,27390337,26922758,26304575,3484920,25629269,25083730,3077345,3068388,3056326,3014190,2966781,2926391,2883607,2799874,2775105,2718676,628664,630980,623657,624594,626042,626306,623447,622979,619283,614990,8533624,8510090,8467744,8411424,8380278,8324943,8258337,8185867,8087318,8001024,7587677,7479358,7396166,7282106,7163444,7051748,6967181,6890640,6822528,6717480,1574978,1573786,1591058,1621366,1494503,1648198,1670269,1733977,1689892,1713013,5810699,5767760,5767235,5652781,5580752,5610210,5691976,5682618,5669896,5682402,512713,552818,553149,556446,564577,579446,577987,555285,561000,559126],"Crime_Rate":[0,0,0.308396189,1.676794836,0.958354697,1.258008799,0.522824787,4.248238751,4.200417679,0.637833407,2.335832216,1.090294066,0.543326927,1.760167676,2.585667238,0.955799724,1.231274369,1.903154796,2.62360457,3.099878071,3.971279208,2.957134859,4.855091074,4.57409803,4.861933177,4.725204489,3.334096086,3.498388063,3.710818933,4.740500274,0.355416927,0.486963297,0.282063577,0.525643519,0.290429302,0.601092937,1.210164241,1.091486984,0.641888579,3.087555444,3.090938838,3.092070759,3.212819382,2.910100349,2.598542374,2.430255782,2.640611244,2.870794402,3.194319248,3.577929289,4.504555824,3.193023534,2.439186682,2.282703808,2.625851267,2.448472002,2.982602518,4.560453509,4.466703629,3.99296098,2.54899857,2.920575582,3.400048604,3.467123283,3.147921724,4.265829932,4.822835115,4.923163681,4.580098522,4.700487983,2.772745758,1.870221195,3.118700874,1.995662061,1.162871828,1.923870314,1.404268328,1.199443458,2.314980681,2.227335194,0.626739081,0.793401879,0.809150853,1.223841092,1.549410225,0.363741463,0.421474019,0.863486076,0.733686055,0.780522479,1.323891868,0.48249417,2.57040306,0.559873819,0.613171883,0.609410146,0.920990054,0.272855834,0.244176024,0.248242865,2.13195452,1.495158562,3.589800025,2.079446748,2.780338174,2.447963937,2.295746788,2.444771668,3.095353306,2.187543228,0.783443513,1.163896273,0.76608156,0.985981286,0.807934848,1.130542965,1.002483224,0.82129212,0.893654242,1.104984691,2.387549178,7.522791395,2.710621878,5.670393588,2.356768189,0.984643823,1.933108019,1.41546771,3.24217245,3.117614982,0.414551656,0.525956962,0.386505919,0.674420143,0.193230865,0.403415043,0.507021059,0.272498498,0.68860588,0.774773118,3.791798837,3.397015,3.166990043,2.701307201,2.954777675,3.024783174,2.776270838,4.294380206,3.420467335,3.272403863,4.013398023,6.474677491,9.720449328,5.443215517,4.951880443,4.536609297,4.822052422,6.295588271,5.193615762,6.400781332,0.933114362,1.672085831,0.796827564,0.926848874,1.212341964,0.406480782,0.710514252,0.180748724,0.285945143,0.649433999,1.785432655,1.643748823,2.994220406,3.379700318,3.385169048,2.556219922,2.107954366,4.589254224,4.96917605,5.721336293,0.297733257,0.860952525,0.875717944,0.664844218,0.715902918,0.301184307,0.978273226,0.76471269,1.098092425,1.420269533,6.511161622,7.042914828,7.250246896,6.689148634,7.355764201,6.444676843,6.04945685,3.311980357,6.66540066,5.717571957,4.965188512,4.975859542,5.186867737,4.660982096,3.792859053,3.637323875,4.099051999,7.427738091,4.357524771,3.833582533,2.22297687,2.899077637,3.067977486,3.18595246,2.529493996,2.212917461,3.405235458,2.164569903,4.658696622,5.187834824,1.700626284,0.693821932,0.586470707,1.708076126,0,0.074093009,0.267141823,2.686784555,0.133545938,1.383995974,1.744020273,1.351425314,2.17690335,1.871965138,2.253481094,1.74876918,1.920506272,2.010070286,2.449283585,2.789009432,3.316089667,0.658910971,1.714277551,1.919297384,4.590708991,4.331612105,3.699940801,3.917983544,2.326576483,3.769406074,3.14370019,1.965087691,2.465370918,1.895348598,1.043270466,3.45938736,2.580670776,1.484086878,2.638142261,4.03998543,1.725966647,1.219354652,0.233485955,1.666633787,2.421437331,1.023114268,3.588502796,5.147519715,3.206593489,2.814240501,1.294198792,1.442391272,1.234991,3.136836657,1.183231247,1.776787084,1.952317613,2.866643734,2.209629224,3.028286794,5.533642229,6.476945665,5.574282084,3.444089512,3.896657081,3.882912399,5.023435958,null,6.270173262,6.336542293,7.691255897,1.774768327,2.493876642,6.239622295,2.434901178,1.813084894,1.3500135,1.789981474,3.596445889,2.21081833,3.261286863,2.713353856,2.839635521,3.029567669,2.605439084,2.8393509,3.356275913,3.854788003,2.932976208,3.677387269,2.837444844,1.955458716,2.239147364,2.050142342,2.071364481,1.870690246,1.421899672,1.43583102,1.336003407,1.384400512,2.624458377,1.314665089,2.25283725,1.05611537,7.134109366,6.90892145,8.725507984,7.540526706,4.799184139,1.971695552,4.398366644,3.990144548,4.627013266,5.30634091,4.804902063,4.880943591,4.307915539,3.007631255,2.803777954,3.051335145,0.760222907,0.690380977,1.251241346,0.904604307,1.206060583,0.954087504,1.168658754,1.907160876,1.002457604,1.615625468,5.05414219,3.463754057,4.330525154,3.43864416,4.726531276,2.489423227,3.259065743,3.174729156,6.19555553,4.899448706,0.397282745,0.589983821,0.730524454,0.529880013,0.565710862,0.46078124,0.869027931,0.332386743,0.477503269,0.545054135,1.984260093,1.420076665,1.038089387,1.230564185,1.798734827,0.474324799,0.76080992,1.429598016,1.902402925,1.995122401,1.613637043,2.479759217,1.881304873,0.465873547,1.429684096,1.246600935,1.239129786,3.648639418,3.363172744,2.795746045,2.474261786,3.223646688,2.377725468,2.667218739,2.557047735,2.318141778,2.344809439,4.891662888,3.14531635,7.738269612,2.22526928,3.072459733,2.6652833,2.856629952,4.454343659,3.374279189,3.771564497,5.684468916,2.529924557,2.568504618,1.938677619,1.795605636,0.779445586,0.803945189,0.799552046,0.612864403,0.61206083,1.721703798,0.737438122,0.80530288,1.104848498,1.173254491,3.075588141,2.388701442,1.887567704,1.981963449,3.017054682,4.035895901,2.846739132,2.464434894,5.885496863,7.607214175,5.772403741,4.162704093,1.277869536,2.394995418,2.085181258,2.247266762,1.453293567,3.57729394,2.167894906,1.86837037,2.527237479,1.783289013,2.195631219,1.573584348,1.525730907,1.856858901,2.052596423,2.549673642,8.751031442,8.904507579,8.288077904,6.618964349,4.550883625,5.204383367,4.937434523,4.687518141,3.693645523,4.480846984,2.285746214,3.240593067,2.136942839,2.960466668,3.278681943,1.69882502,3.771847529,1.672455863,1.242682964,2.101560233,1.428399578,1.022927445,0.832287916,0.742997119,0.842180409,1.105127972,1.141958434,1.601374578,1.499145663,1.900604709,1.170245342,0,4.158011675,0.718847831,0.354247516,0,0.173014272,0.360175405,0.534759358,0.357701126],"Median_Income":[56200,50841,53049,50308,48030,45701,52017,48487,48518,48100,78394,69979,81335,80673,81054,73105,79666,71003,65424,67977,70674,63411,62263,60832,56381,53242,57834,52480,55388,55107,54539,50683,51887,48908,46184,48559,43285,43527,47051,45343,78105,71766,73045,70993,68670,65384,66829,63609,60795,63788,72499,74357,78204,75179,71864,65874,74654,63871,66789,70779,87291,74131,77494,80886,78655,75842,76170,71671,74520,77554,74194,66190,67750,61840,62325,62179,59461,54631,62268,64882,58368,55634,55365,54521,52687,49876,53350,51395,51383,51782,56628,56832,60475,57026,54784,53567,51657,53682,52372,51842,65988,59792,62052,60261,55708,57765,53278,53460,54064,55288,74399,71416,68801,65398,65192,59362,59291,57717,57685,59610,66693,60977,61290,59761,56095,51951,54364,51492,50631,54218,66054,69963,66192,62957,65669,62491,66128,59618,57209,57598,73151,65096,59343,60523,59205,57771,52567,55781,52570,54118,55662,55543,51805,48335,45740,46250,49334,45834,45403,48301,51707,50878,45436,44954,49555,45839,51034,43601,46317,46181,66546,59726,55605,54180,54771,55897,60413,54838,56609,56323,95572,87785,85618,78581,79416,82332,76238,80137,78462,75442,87707,87909,79517,76990,73229,68264,68736,71012,72125,71603,64119,61544,58827,60823,58491,56216,62182,55795,55682,54379,81426,73118,72979,74808,74167,72688,70709,68936,65868,61482,44787,43556,45139,43785,43204,38397,35548,40875,46809,44842,60597,62844,58957,58612,63879,61215,50900,55515,52145,53839,60195,58724,59872,60806,55461,55239,47490,50298,45883,48508,73071,68799,62141,63255,65258,61474,63343,58228,63357,61697,70906,62985,60533,59054,56122,53913,56993,52803,53591,60165,86900,82820,78877,81245,81661,79340,75958,75656,75049,78300,87726,75520,74299,72943,73764,70525,70083,74399,71014,73993,53113,49158,47559,51618,48688,50466,44153,48442,47825,53037,71855,68493,64185,65453,62594,58707,54926,53190,57684,58497,61159,54336,51674,57278,54815,50572,50937,46355,51498,51504,70031,67710,62750,64118,61957,65647,65024,62210,64205,59937,64663,62750,63294,57514,57517,53663,55786,49503,50862,53920,59397,55420,54110,54273,50801,51020,50745,54001,55199,50650,74413,70418,65181,63000,65646,63642,53863,57758,58698,59462,70582,65693,63916,64965,65166,59640,60631,57902,56857,56773,70151,63394,68209,65550,60107,63380,61914,62544,55858,60662,62028,58485,56879,57888,50027,48567,47888,49532,45663,48999,64255,60540,59358,61205,59421,57348,58715,55125,53796,53293,56627,57076,57681,54700,51074,47255,47665,47963,48164,45348,67444,60868,62672,61947,60940,58237,56509,57926,55874,55542,84523,78463,72785,71892,71499,68515,67107,65083,63217,66629,74305,71335,66416,64814,64200,65623,72016,62005,59080,65721,81313,78549,73851,70795,66350,71511,72450,72101,71331,70937,82454,81170,74612,74906,72562,63850,70268,69373,64763,65997,53706,51489,48973,47253,46212,42754,47344,48586,47642,50267,67355,63764,66208,63727,59809,62782,56861,59213,59304,59167,65134,63672,62092,61609,65745,60199,74136,64158,62096,61341],"Year":[2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010]},"type":"data.frame","container":"svg","options":null,"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  ./interactive.js */\nvar margin = {top: 10, right: 30, bottom: 30, left: 60},\nwidth = 600 - margin.left - margin.right,\nheight = 500 - margin.top - margin.bottom;\n\nvar svg = d3.select(\"#interactive_area\").append(\"svg\")\n.attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom)\n.append(\"g\")\n.attr(\"transform\",\"translate(\" + margin.left + \",\" + margin.top + \")\");\nsvg.append('rect').attr('x','0').attr('y','0').attr('width',width).attr('height',height).attr('fill','aliceblue').attr('id','canvas')\n\n\n// console.log(data.Crime_Rate)\n// var allStates = d3.map(data, function(d){return(d.State)}).keys()\n\n// var temp = new Set();\n// data.forEach( d => {\n//   temp.add(d.State) \n// })\n// var allStates = Array.from(temp)\n\nvar allStates = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming']\n\nvar allFactor = ['Crime Rate','Median Income','Total Offenses']\n\n\nvar parseDate = d3.timeParse(\"%Y\");\ndata.forEach(function(d,i) {\n  d.Year = parseDate(d.Year);\n});\n\nvar options1 = d3.select(\"#selectButton1\")\n  .selectAll(\"option\")\n  .data(allStates)\n  .enter()\n  .append('option')\n  .property(\"selected\", function(d){ return d === allStates[0]; })\n\noptions1.text(function (d) { return d; }) // text showed in the menu\n      .attr(\"value\", function (d) { return d; }) // corresponding value returned by the button\n\nvar options2 = d3.select(\"#selectButton2\")\n  .selectAll(\"option\")\n  .data(allStates)\n  .enter()\n  .append('option')\n  .property(\"selected\", function(d){ return d === allStates[1]; })\n\noptions2.text(function (d) { return d; }) // text showed in the menu\n      .attr(\"value\", function (d) { return d; }) // corresponding value returned by the button\n\nvar options3 = d3.select(\"#selectButton3\")\n  .selectAll(\"option\")\n  .data(allFactor)\n  .enter()\n  .append('option')\n  .property(\"selected\", function(d){ return d === allFactor[0]; })\n\noptions3.text(function (d) { return d; }) // text showed in the menu\n      .attr(\"value\", function (d) { return d; }) // corresponding value returned by the button\n\n\n\nvar myColor = d3.scaleOrdinal()\n  .domain(allStates)\n  .range(['#c23271', '#678007', '#82a68d', '#ac5906', '#ff7b91', '#437e8a', '#59c3fa', '#e509ae', '#698ffc', '#9dabfa', '#6ed014', '#ee534e', '#8a91a7', '#a946aa', '#faff16', '#158940', '#07c99d', '#b65d66', '#5776a9', '#c281fe', '#24c9d7', '#1b70fc', '#a88178', '#989e5d', '#d50527', '#c091ae', '#fa9316', '#16977e', '#22e67a', '#85c070', '#a978ba', '#fe9169', '#c5639c', '#07a2e6', '#fe6616', '#ff6ac8', '#6aa2a9', '#88fc07', '#cb9b64', '#f92b75', '#7a7352', '#d24506', '#b21bff', '#f898fd', '#678275', '#bfd544', '#c5a121', '#866888', '#9e8010', '#10b437', '#cd714a', '#94aa05']);\n\n\nvar x = d3.scaleTime()\n  // .domain([d3.min(data, function(d) { return d.Year; }),d3.max(data, function(d) { return d.Year; })])\n  .domain(d3.extent(data, function(d) { return d.Year; }))\n  .range([ 0, width ]);\n\nsvg.append(\"g\")\n.attr(\"transform\", \"translate(0,\" + height + \")\")\n// .call(d3.axisBottom(x));\n.call(d3.axisBottom(x))\n\nvar y = d3.scaleLinear()\n  .domain([0, d3.max(data, function(d) { return +d.Crime_Rate; })*1.3])\n  .range([ height, 0 ]);\n\nvar yaxis = svg.append(\"g\")\n  .call(d3.axisLeft(y));\n\nsvg.append(\"text\")             \n    .attr(\"transform\",\n          \"translate(\" + (width/2) + \" ,\" + \n                         (height + margin.top + 20) + \")\")\n    .style(\"text-anchor\", \"middle\")\n    .text(\"Year\");\n\nsvg.append(\"text\")\n    .attr('id', 'ytext')\n    .attr(\"transform\", \"rotate(-90)\")\n    .attr(\"y\", 0 - margin.left)\n    .attr(\"x\",0 - (height / 2))\n    .attr(\"dy\", \"1em\")\n    .style(\"text-anchor\", \"middle\")\n    .text(\"Crime Rate\");\n\n\n// var tooltip = d3.select(\"#my_dataviz\")\n//     .append(\"div\")\n//     .style(\"opacity\", 0)\n//     .attr(\"class\", \"tooltip\")\n//     .style(\"background-color\", \"white\")\n//     .style(\"border\", \"solid\")\n//     .style(\"border-width\", \"1px\")\n//     .style(\"border-radius\", \"5px\")\n//     .style(\"padding\", \"10px\")\n\n\n// var mouseover = function(d) {\n//     tooltip\n//       .style(\"opacity\", 1)\n//   }\n\n// var mousemove = function(d) {\n//     tooltip\n//       .html(\"The exact value of<br>the Ground Living area is: \" + d.Crime_Rate)\n//       .style(\"left\", (d3.mouse(this)[0]+90) + \"px\") // It is important to put the +90: other wise the tooltip is exactly where the point is an it creates a weird effect\n//       .style(\"top\", (d3.mouse(this)[1]) + \"px\")\n//   }\n\n// var mouseleave = function(d) {\n//     tooltip\n//       .transition()\n//       .duration(200)\n//       .style(\"opacity\", 0)\n//   }\n\n\nvar dot1 = svg\n  .append('g')\n  .attr('class','dot1')\n  .selectAll(\"dot\")\n    .data(data.filter(function(d){return d.State==allStates[0]}))\n    .enter()\n    .append(\"circle\")\n    .attr('cx', function(d){ return x(d.Year) })\n    .attr('cy', function(d){ return y(d.Crime_Rate) })\n    .attr(\"r\", 5)\n    .attr('id','plot1')\n    .style(\"fill\", function(d){ return myColor(allStates[0]) })\n\n\n// d3.select('svg').select('.dot1').selectAll('circle').on(\"mouseover\", function(d) {tooltip.style(\"opacity\", 1)})\n// d3.select('svg').select('.dot1').selectAll('circle').on(\"mousemove\", function(d) {tooltip\n//       .html(\"The exact value of<br>the Ground Living area is: \" + d.Crime_Rate)\n//       .style(\"left\", (d3.mouse(this)[0]+90) + \"px\") // It is important to put the +90: other wise the tooltip is exactly where the point is an it creates a weird effect\n//       .style(\"top\", (d3.mouse(this)[1]) + \"px\")})\n// d3.select('svg').select('.dot1').selectAll('circle').on(\"mouseleave\", function(d) {tooltip\n//       .transition()\n//       .duration(200)\n//       .style(\"opacity\", 0)})\n\nvar line1 = svg\n  .append('g')\n  .attr('class','plot1')\n  .append('path')\n  .datum(data.filter(function(d){return d.State==allStates[0]}))\n  .attr(\"d\", d3.line()\n      .x(function(d) { return x(d.Year) })\n      .y(function(d) { return y(+d.Crime_Rate) })\n    )\n   .attr(\"stroke\", function(d){ return myColor(allStates[0]) })\n   .style(\"stroke-width\", 2)\n   .style(\"fill\", \"none\")\n\n\nvar dot2 = svg\n  .append('g')\n  .attr('class','dot2')\n  .selectAll(\"dot\")\n    .data(data.filter(function(d){return d.State==allStates[1]}))\n    .enter()\n    .append(\"circle\")\n    .attr('cx', function(d){ return x(d.Year) })\n    .attr('cy', function(d){ return y(d.Crime_Rate) })\n    .attr(\"r\", 5)\n    .attr('id','plot2')\n    .style(\"fill\", function(d){ return myColor(allStates[1]) })\n  // .on(\"mouseover\",mouseover)\n  // .on(\"mousemove\",mousemove)\n  // .on(\"mouseleave\",mouseleave)\n\n// d3.select('svg').select('.dot2').selectAll('circle').on(\"mouseover\", function(d) {tooltip.style(\"opacity\", 1)})\n// d3.select('svg').select('.dot2').selectAll('circle').on(\"mousemove\", function(d) {tooltip\n//       .html(\"The exact value of<br>the Ground Living area is: \" + d.Crime_Rate)\n//       .style(\"left\", (d3.mouse(this)[0]+90) + \"px\") // It is important to put the +90: other wise the tooltip is exactly where the point is an it creates a weird effect\n//       .style(\"top\", (d3.mouse(this)[1]) + \"px\")})\n// d3.select('svg').select('.dot2').selectAll('circle').on(\"mouseleave\", function(d) {tooltip\n//       .transition()\n//       .duration(200)\n//       .style(\"opacity\", 0)})\n\nvar line2 = svg\n  .append('g')\n  .attr('class','plot2')\n  .append('path')\n  .datum(data.filter(function(d){return d.State==allStates[1]}))\n  .attr(\"d\", d3.line()\n      .x(function(d) { return x(d.Year) })\n      .y(function(d) { return y(+d.Crime_Rate) })\n    )\n   .attr(\"stroke\", function(d){ return myColor(allStates[1]) })\n   .style(\"stroke-width\", 2)\n   .style(\"fill\", \"none\")\n\n\nsvg.append(\"circle\").attr(\"id\",\"circle1\").attr(\"cx\",420).attr(\"cy\",50).attr(\"r\", 6).style(\"fill\", myColor(allStates[0]))\nsvg.append(\"text\").attr(\"id\",\"legend1\").attr(\"x\", 440).attr(\"y\", 50).text(allStates[0]).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\nsvg.append(\"circle\").attr(\"id\",\"circle2\").attr(\"cx\",420).attr(\"cy\",70).attr(\"r\", 6).style(\"fill\", myColor(allStates[1]))\nsvg.append(\"text\").attr(\"id\",\"legend2\").attr(\"x\", 440).attr(\"y\", 70).text(allStates[1]).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n\n\n\n\nfunction update1(selectedState) {\n\n  // Create new data with the selection?\n  var dataFilter = data.filter(function(d){return d.State==selectedState})\n  var chosenFactor = d3.select(\"#selectButton3\").property(\"value\")\n\n  // Give these new data to update line\n  dot1\n      .data(dataFilter)\n      .transition()\n      .duration(1000)\n      .attr('cx', function(d){ return x(d.Year) })\n      .attr('cy', function(d){ if(chosenFactor == \"Crime Rate\") {return y(d.Crime_Rate)}\n                               else if(chosenFactor == \"Median Income\"){return y(d.Median_Income)}\n                               else {return y(d.Offenses)};\n                         })\n      .attr(\"r\", 5)\n      .style(\"fill\", function(d){ return myColor(selectedState) })\n\n  line1\n      .datum(dataFilter)\n      .transition()\n      .duration(1000)\n      .attr(\"d\", d3.line()\n        .x(function(d) { return x(d.Year) })\n        .y(function(d) { if(chosenFactor == \"Crime Rate\"){return y(+d.Crime_Rate)}\n                         else if(chosenFactor == \"Median Income\"){return y(+d.Median_Income)} \n                         else {return y(+d.Offenses)}\n                   })\n      )\n      .attr(\"stroke\", function(d){ return myColor(selectedState) })\n\n  svg.select(\"#circle1\").attr(\"cx\",420).attr(\"cy\",50).attr(\"r\", 6).style(\"fill\", myColor(selectedState))\n  svg.select(\"#legend1\").attr(\"x\", 440).attr(\"y\", 50).text(selectedState).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n}\n\n// When the button is changed, run the updateChart function\nd3.select(\"#selectButton1\").on(\"change\", function(d) {\n    // recover the option that has been chosen\n    var selectedOption = d3.select(this).property(\"value\")\n    // run the updateChart function with this selected option\n    update1(selectedOption)\n})\n\n\n\nfunction update2(selectedState) {\n\n  // Create new data with the selection?\n  var dataFilter = data.filter(function(d){return d.State==selectedState})\n  var chosenFactor = d3.select(\"#selectButton3\").property(\"value\")\n  // Give these new data to update line\n  dot2\n      .data(dataFilter)\n      .transition()\n      .duration(1000)\n      .attr('cx', function(d){ return x(d.Year) })\n      .attr('cy', function(d){ if(chosenFactor == \"Crime Rate\") {return y(d.Crime_Rate)}\n                               else if(chosenFactor == \"Median Income\"){return y(d.Median_Income)}\n                               else {return y(d.Offenses)}; })\n      .attr(\"r\", 5)\n      .style(\"fill\", function(d){ return myColor(selectedState) })\n\n  line2\n      .datum(dataFilter)\n      .transition()\n      .duration(1000)\n      .attr(\"d\", d3.line()\n        .x(function(d) { return x(d.Year) })\n        .y(function(d) { if(chosenFactor == \"Crime Rate\"){return y(+d.Crime_Rate)}\n                         else if(chosenFactor == \"Median Income\"){return y(+d.Median_Income)} \n                         else {return y(+d.Offenses)}\n                   })\n      )\n      .attr(\"stroke\", function(d){ return myColor(selectedState) })\n\n  svg.select(\"#circle2\").attr(\"cx\",420).attr(\"cy\",70).attr(\"r\", 6).style(\"fill\", myColor(selectedState))\n  svg.select(\"#legend2\").attr(\"x\", 440).attr(\"y\", 70).text(selectedState).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n}\n\n// When the button is changed, run the updateChart function\nd3.select(\"#selectButton2\").on(\"change\", function(d) {\n    // recover the option that has been chosen\n    var selectedOption = d3.select(this).property(\"value\")\n    // run the updateChart function with this selected option\n    update2(selectedOption)\n})\n\n\n\nfunction update3(selectedFactor) {\n\n  // Create new data with the selection?\n  var selectedState1 = d3.select(\"#selectButton1\").property(\"value\")\n  var dataFilter1 = data.filter(function(d){return d.State==selectedState1})\n\n  var selectedState2 = d3.select(\"#selectButton2\").property(\"value\")\n  var dataFilter2 = data.filter(function(d){return d.State==selectedState2})\n\n  y.domain([0, d3.max(data, function(d) { if (selectedFactor == \"Crime Rate\") {return +d.Crime_Rate;}\n                                          else if (selectedFactor == \"Median Income\") {return +d.Median_Income;}\n                                          else {return +d.Offenses;}\n                                    })*1.3])\n  yaxis.transition().duration(1000).call(d3.axisLeft(y))\n\n  d3.select('svg').select('text#ytext').transition().duration(1000).text(selectedFactor)\n  // Give these new data to update line\n  \n  d3.select('svg').select(\".dot1\").selectAll('circle').data(dataFilter1).transition().duration(1000).attr('cx', function(d){ return x(d.Year) }).attr('cy', function(d){ if (selectedFactor == \"Crime Rate\") {return y(d.Crime_Rate)}\n      else if (selectedFactor == \"Median Income\") {return y(d.Median_Income)} else {return y(d.Offenses)};}).attr('r',5)\n\n  d3.select('svg').select(\".dot2\").selectAll('circle').data(dataFilter2).transition().duration(1000).attr('cx', function(d){ return x(d.Year) }).attr('cy', function(d){ if (selectedFactor == \"Crime Rate\") {return y(d.Crime_Rate)}\n      else if (selectedFactor == \"Median Income\") {return y(d.Median_Income)} else {return y(d.Offenses)};}).attr('r',5)\n\n  // console.log(\"This is a gap test!!!\")\n\n  d3.select('svg').select(\".plot1\").selectAll('path')\n      .datum(dataFilter1)\n      .transition()\n      .duration(1000)\n      .attr(\"d\", d3.line()\n        .x(function(d) { return x(d.Year) })\n        .y(function(d) { if(selectedFactor == \"Crime Rate\"){return y(+d.Crime_Rate)}\n                         else if(selectedFactor == \"Median Income\"){return y(+d.Median_Income)} \n                         else {return y(+d.Offenses)}\n                   })\n      )\n\n  \n  d3.select('svg').select(\".plot2\").selectAll('path')\n      .datum(dataFilter2)\n      .transition()\n      .duration(1000)\n      .attr(\"d\", d3.line()\n        .x(function(d) { return x(d.Year) })\n        .y(function(d) { if(selectedFactor == \"Crime Rate\"){return y(+d.Crime_Rate)}\n                         else if(selectedFactor == \"Median Income\"){return y(+d.Median_Income)} \n                         else {return y(+d.Offenses)}\n                   })\n      )\n  // line1\n  //     .data(dataFilter1)\n  //     .transition()\n  //     .duration(1000)\n  //     .attr('cx', function(d){ return x(d.Year) })\n  //     .attr('cy', function(d){ if (selectedFactor == \"Crime Rate\") {return y(d.Crime_Rate)}\n  //                              else if (selectedFactor == \"High School Rate\") {return y(d.High_School_Rate)} \n  //                              else {return y(d.Living_Index)};\n  //                  })\n  //     .attr(\"r\", 5)\n  //     .style(\"fill\", function(d){ return myColor(selectedState) });\n\n  //svg.select(\"#circle1\").attr(\"cx\",320).attr(\"cy\",50).attr(\"r\", 6).style(\"fill\", myColor(selectedState))\n}\n  //svg.select(\"#legend1\").attr(\"x\", 340).attr(\"y\", 50).text(selectedState).style(\"font-size\", \"15px\").attr(\"alignment-baseline\",\"middle\")\n\n\nfunction update4(selectedFactor) {\n\n  // Create new data with the selection?\n  var selectedState1 = d3.select(\"#selectButton1\").property(\"value\")\n  var dataFilter1 = data.filter(function(d){return d.State==selectedState1})\n\n  var selectedState2 = d3.select(\"#selectButton2\").property(\"value\")\n  var dataFilter2 = data.filter(function(d){return d.State==selectedState2})\n\n  // y.domain([0, d3.max(data, function(d) { if (selectedFactor == \"Crime Rate\") {return +d.Crime_Rate;}\n  //                                         else if (selectedFactor == \"High School Rate\") {return +d.High_School_Rate;}\n  //                                         else {return +d.Living_Index;}\n  //                                   })+5])\n  // yaxis.transition().duration(1000).call(d3.axisLeft(y))\n  // Give these new data to update line\n  \n  line2\n      .data(dataFilter2)\n      .transition()\n      .duration(1000)\n      .attr('cx', function(d){ return x(d.Year) })\n      .attr('cy', function(d){ if (selectedFactor == \"Crime Rate\") {return y(d.Crime_Rate)}\n                               else if (selectedFactor == \"High School Rate\") {return y(d.High_School_Rate)} \n                               else {return y(d.Living_Index)};\n                   })\n      .attr(\"r\", 5)\n      .style(\"fill\", function(d){ return myColor(selectedState) });\n  \n  //svg.select(\"#circle1\").attr(\"cx\",320).attr(\"cy\",50).attr(\"r\", 6).style(\"fill\", myColor(selectedState))\n}\n\n\nfunction rdsee(selectedOption){\n      console.log(\"You have selected: \"+selectedOption)\n}\n\n\n// When the button is changed, run the updateChart function\nd3.select(\"#selectButton3\").on(\"change\", function(d) {\n    // recover the option that has been chosen\n    var selectedOption = d3.select(this).property(\"value\")\n    // run the updateChart function with this selected option\n\n    update3(selectedOption)\n    // update4(selectedOption)\n    \n})\n\n\n\n// var xaxis = d3.scaleLinear()\n// .domain([2009, 2019])\n// .range([ 0, width ]);\n\n// svg.append(\"g\")\n// .attr(\"transform\", \"translate(0,\" + height + \")\")\n// .call(d3.axisBottom(xaxis));\n\n// var yaxis = d3.scaleLinear()\n// .domain([0, 20])\n// .range([ height, 0]);\n// svg.append(\"g\")\n// .call(d3.axisLeft(yaxis));\n\n\n//       year = [2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019]\n//       crime_rate = [3.56,2.45,13.12,5.13,8.63,9.24,2.13,14.56,6.21,10.13,5.24]\n\n//       //svg.selectAll('scatter').data(d).enter().append('circle').attr('cx',function(s){return xaxis(s+2008)}).attr('cy',function(s){return yaxis(s/2 + s*4.37)}).attr('r',2).style('fill','red')\n\n// svg.selectAll('scatter').data(year).enter().append('circle').attr('cx',xaxis(year)).attr('cy',yaxis(crime_rate)).attr('r',2).style('fill','red')\n};","style":null,"version":6,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":{"background":"#FFFFFF","foreground":"#000000"}},"useShadow":true},"evals":[],"jsHooks":[]}</script>
<p>This interactive plot enables people to choose any two states in US and then choose one of the three factors (total hate crime cases, hate crime cases per 100k and median income) to compare
in a much more clear and direct way. As we have shown in the result part, income is one of the key socioeconomic factors that have some correlations with hate crimes. The interactive plot also allows comparison of total hate crime cases in different states. Some states may appear at the very bottom of the plot when comparing total cases because they have relatively low total cases compared to the range of y-axis, which is determined by the maximum value of total cases, 1300+ total cases from California.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yiyuan-xu/USHateCrime/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/yiyuan-xu/USHateCrime/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
